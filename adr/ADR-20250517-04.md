# ADR-20250517-04: LLM提供元の統一（全てOpenAIに）

日付: 2025/05/17 01:06
ステータス: 承認

## コンテキスト
現在のアプリケーションでは記事生成にはClaude API（Anthropic）、画像生成にはOpenAI APIを使用する実装になっています。これにより、ユーザーは2つの異なるプロバイダーのAPIキーを準備する必要があります。ユーザー体験の簡素化と開発・保守の容易化のため、全てのLLM処理を単一プロバイダー（OpenAI）に統一することが検討されています。

## 決定
アプリケーション全体で使用するLLMをOpenAIに統一します：

1. LLMの使用変更：
   - アウトライン生成：Claude API → GPT-4o
   - 記事生成：Claude API → GPT-4o
   - 画像生成：DALL-E 3（変更なし）

2. API設計の変更：
   - `api_client.py` からClaude API関連コードを削除
   - OpenAI APIクライアントのみを実装
   - 適切なトークン制限とプロンプト設計の調整

3. ユーザーインターフェースの簡素化：
   - APIキー入力をOpenAIのみに削減
   - 入力フィールドを単一に統一

## 影響
1. ユーザーはOpenAIのAPIキーのみを用意すればよくなり、ユーザー体験が向上
2. コードベースが単純化され、メンテナンスが容易になる
3. 全ての処理が単一APIに統一されるため、エラー処理やレート制限対応が一元化
4. GPT-4oの特性に合わせたプロンプト設計の見直しが必要
5. 長文生成においてClaudeからGPT-4oへの移行による出力品質の差異に注意が必要
