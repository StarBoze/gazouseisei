# ADR-20250517-01: 基本アーキテクチャ設計

日付: 2025/05/17 00:40
ステータス: 承認

## コンテキスト
大規模な記事と画像を自動生成するStreamlitアプリケーションの開発が必要です。入力としてキーワード・想定読者・画像スタイルを受け取り、Claude APIとChatGPT o3を活用して30万字の記事と30枚の画像を生成します。

## 決定
以下のアーキテクチャを採用します：
1. Streamlitをフロントエンドとして使用
2. モジュール構成：
   - outline_generator.py: アウトライン生成（Claude API）
   - article_generator.py: 並行記事生成（Claude API）
   - image_generator.py: 並行画像生成（ChatGPT o3）
   - api_client.py: API通信クライアント
   - file_manager.py: 一時ファイル管理

3. 処理フロー：
   - 入力 → アウトライン生成 → 並行記事生成 → 並行画像生成 → 結合・プレビュー → ダウンロード

4. 並行処理：
   - 記事生成: 最大5並列
   - 画像生成: 最大10並列

## 影響
1. Streamlitの採用により、MVPの迅速な開発が可能
2. モジュール分割により、各コンポーネントの独立した開発・テストが可能
3. 並行処理の実装により、効率的な記事・画像生成が可能
4. APIレート制限に対応するためのリトライ機構が必要
5. 一時ファイル管理のための仕組みが必要
